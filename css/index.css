/* Import Bitcount Grid Single from Google Fonts */
@import url("https://fonts.googleapis.com/css2?family=Bitcount+Grid+Single&display=swap");
/* Import IBM Plex for orionlw author */
@import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=IBM+Plex+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap");

/* Defaults */
:root {
	--font-family: "Bitcount Grid Single", "Segoe UI", "Roboto", "Helvetica Neue",
		Arial, "Liberation Sans", sans-serif;
	--font-family-monospace: Consolas, Menlo, Monaco, Andale Mono WT, Andale Mono,
		Lucida Console, Lucida Sans Typewriter, DejaVu Sans Mono,
		Bitstream Vera Sans Mono, Liberation Mono, Nimbus Mono L, Courier New,
		Courier, monospace;
}

/* Theme colors - Improved for accessibility */
body {
	--color-gray-20: #ffd6e0; /* soft pink (background) */
	--color-gray-50: #ffb3c6; /* lighter pink */
	--color-gray-90: #8b0020; /* darker red (improved contrast) */

	--background-color: #ffd6e0; /* pink paper */
	--text-color: #8b0020; /* darker red pen (improved contrast) */
	--text-color-link: #b8002e; /* vivid red for links */
	--text-color-link-active: #d72660; /* hot pink for active links */
	--text-color-link-visited: #6d0015; /* much darker red for visited */

	--syntax-tab-size: 2;
}

@media (prefers-color-scheme: dark) {
	body {
		--color-gray-20: #ffb3c6; /* lighter pink */
		--color-gray-50: #ffd6e0; /* soft pink */
		--color-gray-90: #fff0f3; /* almost white (improved contrast) */

		--background-color: #8b0020; /* darker red background */
		--text-color: #fff0f3; /* almost white text (improved contrast) */
		--text-color-link: #ffb3c6; /* light pink links */
		--text-color-link-active: #ff477e; /* hot pink for active links */
		--text-color-link-visited: #ffd6e0; /* light pink for visited */
	}
}

/* Global stylesheet */
* {
	box-sizing: border-box;
}

@view-transition {
	navigation: auto;
}

html,
body {
	padding: 0;
	margin: 0 auto;
	font-family: var(--font-family);
	color: var(--text-color);
	background-color: var(--background-color);
	max-width: 40em;
	border: none !important;
	outline: none !important;
}

h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: var(--font-family);
}

html {
	overflow-y: scroll;
}
body {
	max-width: 40em;
}

/* https://www.a11yproject.com/posts/how-to-hide-content/ */
.visually-hidden:not(:focus):not(:active) {
	clip: rect(0 0 0 0);
	clip-path: inset(50%);
	height: 1px;
	overflow: hidden;
	position: absolute;
	white-space: nowrap;
	width: 1px;
}

/* Fluid images via https://www.zachleat.com/web/fluid-images/ */
img {
	max-width: 100%;
}
img[width][height] {
	height: auto;
}
img[src$=".svg"] {
	width: 100%;
	height: auto;
	max-width: none;
}
video,
iframe {
	width: 100%;
	height: auto;
}
iframe {
	aspect-ratio: 16/9;
}

p:last-child {
	margin-bottom: 0;
}
p {
	line-height: 1.5;
}

li {
	line-height: 1.5;
}

a[href] {
	color: var(--text-color-link);
}
a[href]:visited {
	color: var(--text-color-link-visited);
}
a[href]:hover,
a[href]:active {
	color: var(--text-color-link-active);
}

main,
footer {
	padding: 1rem;
	border: none !important;
	outline: none !important;
}
main :first-child {
	margin-top: 0;
}

header {
	border-bottom: 1px dashed var(--color-gray-20);
}

#skip-link {
	text-decoration: none;
	background: var(--background-color);
	color: var(--text-color);
	padding: 0.5rem 1rem;
	border: 1px solid var(--color-gray-90);
	border-radius: 2px;
}

/* Prevent visually-hidden skip link fom pushing content around when focused */
#skip-link.visually-hidden:focus {
	position: absolute;
	top: 1rem;
	left: 1rem;
	/* Ensure it is positioned on top of everything else when it is shown */
	z-index: 999;
}

.links-nextprev {
	display: flex;
	justify-content: space-between;
	gap: 0.5em 1em;
	list-style: none !important; /* Force remove list style */
	border-top: 1px dashed var(--color-gray-20);
	padding: 1em 0;
}
.links-nextprev > * {
	flex-grow: 1;
	list-style: none !important; /* Remove dots from list items */
}
.links-nextprev-next {
	text-align: right;
}

/* Also target the li elements specifically to override Pico */
.links-nextprev li {
	list-style: none !important;
	list-style-type: none !important;
}

.links-nextprev li::before {
	display: none !important; /* Remove any pseudo-element bullets */
}

table {
	margin: 1em 0;
}
table td,
table th {
	padding-right: 1em;
}

pre,
code {
	font-family: var(--font-family-monospace);
}
pre:not([class*="language-"]) {
	margin: 0.5em 0;
	line-height: 1.375; /* 22px /16 */
	-moz-tab-size: var(--syntax-tab-size);
	-o-tab-size: var(--syntax-tab-size);
	tab-size: var(--syntax-tab-size);
	-webkit-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
	direction: ltr;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	overflow-x: auto;
}
code {
	word-break: break-all;
}

/* Header */
header {
	display: flex;
	gap: 1em;
	flex-wrap: wrap;
	justify-content: space-between;
	align-items: center;
	padding: 1em;
}
.home-link {
	flex-grow: 1;
	font-size: 1em; /* 16px /16 */
	font-weight: 700;
}
.home-link:link:not(:hover) {
	text-decoration: none;
}

/* Nav */
.nav {
	display: flex;
	gap: 0.5em 1em;
	padding: 0;
	margin: 0;
	list-style: none;
}
.nav-item {
	display: inline-block;
}
.nav-item a[href]:not(:hover) {
	text-decoration: none;
}
.nav a[href][aria-current="page"] {
	text-decoration: underline;
}

/* Posts list */
.postlist {
	counter-reset: start-from var(--postlist-index);
	list-style: none;
	padding: 0;
	padding-left: 1.5rem;
}
.postlist-item {
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	counter-increment: start-from -1;
	margin-bottom: 1em;
}
.postlist-item:before {
	display: inline-block;
	pointer-events: none;
	content: "" counter(start-from, decimal-leading-zero) ". ";
	line-height: 100%;
	text-align: right;
	margin-left: -1.5rem;
}
.postlist-date,
.postlist-item:before {
	font-size: 0.8125em; /* 13px /16 */
	color: var(--color-gray-90);
}
.postlist-date {
	word-spacing: -0.5px;
}
.postlist-link {
	font-size: 1.1875em; /* 19px /16 */
	font-weight: 700;
	flex-basis: calc(100% - 1.5rem);
	padding-left: 0.25em;
	padding-right: 0.5em;
	text-underline-position: from-font;
	text-underline-offset: 0;
	text-decoration-thickness: 1px;
}
.postlist-item-active .postlist-link {
	font-weight: bold;
}

/* Tags */
.post-tag {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-transform: capitalize;
	font-style: italic;
}
.postlist-item > .post-tag {
	align-self: center;
}

/* Tags list */
.post-metadata {
	display: inline-flex;
	flex-wrap: wrap;
	gap: 0.5em;
	list-style: none;
	padding: 0;
	margin: 0;
}
.post-metadata time {
	margin-right: 1em;
}

/* Author-specific color overrides - Force override Pico CSS */
body[data-author="abby"] {
	--background-color: #e6ffe6 !important;
	--text-color: #0d3a0d !important; /* darker green (improved contrast) */
	--text-color-link: #1e7e1e !important; /* darker green for links */
	--text-color-link-active: #27ae60 !important;
	--text-color-link-visited: #0a2a0a !important; /* very dark green */
	--color-gray-20: #e6ffe6 !important;
	--color-gray-50: #b2f7b2 !important;
	--color-gray-90: #0d3a0d !important; /* darker green */
}

body[data-author="orionlw"] {
	--background-color: #e6d3b3 !important;
	--text-color: #4a3018 !important; /* darker brown (improved contrast) */
	--text-color-link: #6e4b1f !important;
	--text-color-link-active: #8d6742 !important;
	--text-color-link-visited: #3d2614 !important; /* darker brown */
	--color-gray-20: #e6d3b3 !important;
	--color-gray-50: #a67c52 !important;
	--color-gray-90: #4a3018 !important; /* darker brown */
}

body[data-author="adesse"] {
	--background-color: #624f4c !important; /* wenge (brown) */
	--text-color: #ffffff !important; /* pure white (maximum contrast) */
	--text-color-link: #deb8c4 !important; /* lighter mountbatten pink */
	--text-color-link-active: #b8a6a3 !important; /* rose quartz */
	--text-color-link-visited: #f0e6e7 !important; /* very light rose */
	--color-gray-20: #f0e6e7 !important; /* very light rose */
	--color-gray-50: #deb8c4 !important; /* lighter mountbatten pink */
	--color-gray-90: #ffffff !important; /* pure white */
}

/* Dark mode overrides for author colors - Force override Pico CSS */
@media (prefers-color-scheme: dark) {
	body[data-author="abby"] {
		--background-color: #0d3a0d !important; /* darker green */
		--text-color: #ffffff !important; /* pure white */
		--text-color-link: #90ee90 !important; /* light green */
		--text-color-link-active: #98fb98 !important; /* pale green */
		--text-color-link-visited: #b2f7b2 !important;
		--color-gray-20: #90ee90 !important;
		--color-gray-50: #ffffff !important;
		--color-gray-90: #98fb98 !important;
	}

	body[data-author="orionlw"] {
		--background-color: #4a3018 !important; /* darker brown */
		--text-color: #ffffff !important; /* pure white */
		--text-color-link: #deb887 !important; /* burlywood */
		--text-color-link-active: #f5deb3 !important; /* wheat */
		--text-color-link-visited: #e6d3b3 !important;
		--color-gray-20: #deb887 !important;
		--color-gray-50: #ffffff !important;
		--color-gray-90: #f5deb3 !important;
	}

	body[data-author="adesse"] {
		--background-color: #2a201e !important; /* very dark brown */
		--text-color: #ffffff !important; /* pure white */
		--text-color-link: #deb8c4 !important; /* lighter mountbatten pink */
		--text-color-link-active: #e6c7d0 !important; /* even lighter pink */
		--text-color-link-visited: #f0e6e7 !important; /* very light rose */
		--color-gray-20: #deb8c4 !important;
		--color-gray-50: #ffffff !important;
		--color-gray-90: #e6c7d0 !important;
	}
}

/* Force override ALL Pico CSS styling for author themes */
body[data-author="jane"],
body[data-author="jane"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
	background-color: #ffd6e0 !important; /* pink paper */
	color: #8b0020 !important; /* darker red pen */
}

body[data-author="adesse"],
body[data-author="adesse"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
	background-color: #624f4c !important; /* wenge (brown) */
	color: #ffffff !important; /* pure white */
}

body[data-author="abby"],
body[data-author="abby"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
	background-color: #e6ffe6 !important;
	color: #0d3a0d !important;
}

body[data-author="orionlw"],
body[data-author="orionlw"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
	background-color: #e6d3b3 !important;
	color: #4a3018 !important;
	font-family: "IBM Plex Sans", "Segoe UI", "Roboto", "Helvetica Neue", Arial,
		"Liberation Sans", sans-serif !important;
}

/* Dark mode overrides */
@media (prefers-color-scheme: dark) {
	body[data-author="jane"],
	body[data-author="jane"] *:not(code):not(pre) {
		background-color: #8b0020 !important; /* darker red background */
		color: #fff0f3 !important; /* almost white text */
	}

	body[data-author="jane"] a,
	body[data-author="jane"] a:link {
		color: #ffb3c6 !important; /* light pink links */
	}

	body[data-author="adesse"],
	body[data-author="adesse"] *:not(code):not(pre) {
		background-color: #2a201e !important;
		color: #ffffff !important;
	}

	body[data-author="orionlw"],
	body[data-author="orionlw"] *:not(code):not(pre) {
		background-color: #4a3018 !important;
		color: #ffffff !important;
		font-family: "IBM Plex Sans", "Segoe UI", "Roboto", "Helvetica Neue", Arial,
			"Liberation Sans", sans-serif !important;
	}

	body[data-author="orionlw"] code,
	body[data-author="orionlw"] pre {
		font-family: "IBM Plex Mono", Consolas, Menlo, Monaco, "Andale Mono WT",
			"Andale Mono", "Lucida Console", "Lucida Sans Typewriter",
			"DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono",
			"Nimbus Mono L", "Courier New", Courier, monospace !important;
	}
}

/* Default h-card styling for about page */
.h-card {
	display: block;
	margin: 2em 0;
	padding: 1.5em;
	border-radius: 8px;
	border: 1px solid rgba(0, 0, 0, 0.1);
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
	transition: box-shadow 0.2s ease;
}

.h-card:hover {
	box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

/* Remove h-card styling from inline author names in posts */
.post-author .h-card,
.post-metadata .h-card {
	border: none !important;
	background: none !important;
	padding: 0 !important;
	margin: 0 !important;
	border-radius: 0 !important;
	box-shadow: none !important;
	display: inline !important;
}

/* Author-specific styling for h-cards */
.h-card[data-author="jane"] {
	background-color: #ffd6e0 !important;
	color: #8b0020 !important;
	border-color: rgba(139, 0, 32, 0.15) !important;
	box-shadow: 0 1px 3px rgba(139, 0, 32, 0.05) !important;
}

.h-card[data-author="jane"] *,
.h-card[data-author="jane"] *:not(code):not(pre) {
	background-color: #ffd6e0 !important;
	color: #8b0020 !important;
}

.h-card[data-author="abby"] {
	background-color: #e6ffe6 !important;
	color: #0d3a0d !important;
	border-color: rgba(13, 58, 13, 0.15) !important;
	box-shadow: 0 1px 3px rgba(13, 58, 13, 0.05) !important;
}

.h-card[data-author="abby"] *,
.h-card[data-author="abby"] *:not(code):not(pre) {
	background-color: #e6ffe6 !important;
	color: #0d3a0d !important;
}

.h-card[data-author="orionlw"] {
	background-color: #e6d3b3 !important;
	color: #4a3018 !important;
	border-color: rgba(74, 48, 24, 0.15) !important;
	box-shadow: 0 1px 3px rgba(74, 48, 24, 0.05) !important;
	font-family: "IBM Plex Sans", sans-serif !important;
}

.h-card[data-author="orionlw"] *,
.h-card[data-author="orionlw"] *:not(code):not(pre) {
	background-color: #e6d3b3 !important;
	color: #4a3018 !important;
	font-family: "IBM Plex Sans", sans-serif !important;
}

.h-card[data-author="adesse"] {
	background-color: #624f4c !important;
	color: #ffffff !important;
	border-color: rgba(222, 184, 196, 0.2) !important;
	box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
}

.h-card[data-author="adesse"] *,
.h-card[data-author="adesse"] *:not(code):not(pre) {
	background-color: #624f4c !important;
	color: #ffffff !important;
}

.h-card[data-author="amelia"] {
	background-color: #ffd6e0 !important;
	color: #8b0020 !important;
	border-color: rgba(139, 0, 32, 0.15) !important;
	box-shadow: 0 1px 3px rgba(139, 0, 32, 0.05) !important;
}

.h-card[data-author="amelia"] *,
.h-card[data-author="amelia"] *:not(code):not(pre) {
	background-color: #ffd6e0 !important;
	color: #8b0020 !important;
}

@media (prefers-color-scheme: dark) {
	body[data-author="jane"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
		background-color: #8b0020 !important;
		color: #fff0f3 !important;
	}

	body[data-author="adesse"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
		background-color: #2a201e !important;
		color: #ffffff !important;
	}

	body[data-author="orionlw"] *:not(code):not(pre):not(.h-card):not(.h-card *) {
		background-color: #4a3018 !important;
		color: #ffffff !important;
		font-family: "IBM Plex Sans", "Segoe UI", "Roboto", "Helvetica Neue", Arial,
			"Liberation Sans", sans-serif !important;
	}
}
